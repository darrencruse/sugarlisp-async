// Generated by SugarLisp v0.5
var fs = require('fs');
var walk = function(rootDir) {
  return fs.readdir(rootDir, function(err, files) {
    return (err ?
      console.error("a readdir error occurred:", err) :
      files.forEach(function(file) {
        var filePath = [rootDir, '/', file].join('');
        return fs.stat(filePath, function(err, stats) {
          return (err ?
            console.error("a stat error occurred:", err) :
            (stats.isDirectory() ?
              (console.log('directory:', filePath) || walk(filePath)) :
              (console.log(filePath) || true)));
        });
      }));
  });
};

walk('.');